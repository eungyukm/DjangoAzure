<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>관리자페이지</title>
<!-- Bootstrap CDN -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
{% comment %} 	
{% include 'top_menu.html' %} {% endcomment %}

{% load render_table from django_tables2%}
{% comment %} {% load bootstrap4 %} {% endcomment %}
{% comment %} {% if table %}
    <p>{{ table.rows|length }} 개의 데이터가 있습니다.</p>
    <table>
        {% render_table table %}
    </table>
{% else %}
    <p>데이터가 없습니다.</p>
{% endif %} {% endcomment %}

<table class="table table-bordered">
    {% render_table table %}
</table>
<div>
	<canvas id="myChart"></canvas>
</div>
<!-- 게시판 미리보기 부분 -->
<div class="container" style="margin-top:100px">
	<div class="row">
		{% for b1, c1 in board_data_list %}
		<div class="col-lg-6" style="margin-top:20px">
			<div class="card shadow">
				<div class="card-body">
					<h4 class="card-title">{{b1.map_info_name}}</h4>
					<table class="table table-hover" id='board_list'>
						<thead>
							<tr>
								<th class="text-center w-25">글번호</th>
								<th>제목</th>
								<th class="text-center w-25 d-none d-xl-table-cell">작성날짜</th>
							</tr>
						</thead>
						<tbody>
							{% for c2 in c1%}
							<tr>
								<td class="text-center">{{c2.map_data_idx}}</td>
								<th><a href='/map/map_read?map_info_idx={{c2.map_info_idx.map_info_idx}}&map_data_idx={{c2.map_data_idx}}&page_num=1'>{{c2.map_data_subject}}</a></th>
								<td class="text-center d-none d-xl-table-cell">{{c2.map_data_date|date:'Y-m-d'}}</td>
							</tr>
							{% endfor %}
						</tbody>
					</table>
					
					<a href="/map/map_main?map_info_idx={{b1.map_info_idx}}" class="btn btn-primary">더보기</a>
				</div>
			</div>
		</div>
		{% endfor %}
	</div>
</div>
	
{% include 'bottom_info.html'%}


<script>
    // canvas 요소 가져오기
    var ctx = document.getElementById('myChart').getContext('2d');
    
    // 데이터 설정
    var data = {
      labels: ['January', 'February', 'March', 'April', 'May', 'June', 'July'],
      datasets: [{
        label: 'My First Dataset',
        data: [65, 59, 80, 81, 56, 55, 40],
        borderColor: 'rgb(255, 99, 132)',
        tension: 0.1
      }]
    };
    
    // 옵션 설정
    var options = {
      scales: {
        y: {
          beginAtZero: true
        }
      }
    };
    
    // 그래프 생성
    var myChart = new Chart(ctx, {
      type: 'line',
      data: data,
      options: options
    });
  </script>
</body>
</html>









